<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>站点配置管理 | Kooboo CMS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="站点关系

管理站点间的关系，站点可以有子站点，子站点继承父站点的部分配置数据，同时子站点还可以根据需要，本地化由父站点继承而来的数据。通过继承和本地化，可以让子站点在用最小的改动代价，来完成一个与父站点功能类似，但有部分不同的网站。在创建子站点时，可以选择使用与Kooboo CMS中任何已经存在的站点的相同的内容数据库，也可以选择新建一个新的内容数据库。如果选择新建内容数据库时，新的内容数据库">
<meta property="og:type" content="website">
<meta property="og:title" content="站点配置管理">
<meta property="og:url" content="http://www.kooboo.me/docs/site-setting-manager/index.html">
<meta property="og:site_name" content="Kooboo CMS">
<meta property="og:description" content="站点关系

管理站点间的关系，站点可以有子站点，子站点继承父站点的部分配置数据，同时子站点还可以根据需要，本地化由父站点继承而来的数据。通过继承和本地化，可以让子站点在用最小的改动代价，来完成一个与父站点功能类似，但有部分不同的网站。在创建子站点时，可以选择使用与Kooboo CMS中任何已经存在的站点的相同的内容数据库，也可以选择新建一个新的内容数据库。如果选择新建内容数据库时，新的内容数据库">
<meta property="og:image" content="http://www.kooboo.me/site-setting-basic.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-domain.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-web-resource.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-smtp.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-html-meta.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-security.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-custom-fields.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-site-users.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-url-redirect.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-robots.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-ab-rules.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-create-rule.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-ab-rule-item.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-ab-rule-item-save.jpg">
<meta property="og:image" content="http://www.kooboo.me/create-a-b-page.jpg">
<meta property="og:image" content="http://www.kooboo.me/site-setting-ab-page-settings.jpg">
<meta property="og:image" content="http://www.kooboo.me/page-rule-setting.jpg">
<meta property="og:image" content="http://www.kooboo.me/a-page-in-pc.jpg">
<meta property="og:image" content="http://www.kooboo.me/a-page-in-mobile.jpg">
<meta property="og:updated_time" content="2017-01-06T13:27:27.093Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="站点配置管理">
<meta name="twitter:description" content="站点关系

管理站点间的关系，站点可以有子站点，子站点继承父站点的部分配置数据，同时子站点还可以根据需要，本地化由父站点继承而来的数据。通过继承和本地化，可以让子站点在用最小的改动代价，来完成一个与父站点功能类似，但有部分不同的网站。在创建子站点时，可以选择使用与Kooboo CMS中任何已经存在的站点的相同的内容数据库，也可以选择新建一个新的内容数据库。如果选择新建内容数据库时，新的内容数据库">
<meta name="twitter:image" content="http://www.kooboo.me/site-setting-basic.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Kooboo CMS" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="https://fonts.proxy.ustclug.org/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link href="//cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/unslider/2.0.3/css/unslider.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/styles.css">
  
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?19a46999a8663e78e0474eecce13524b";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


</head>

<body>
  <nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="logo" href="/">
        <img src="/images/logo.png" />
      </a>
      
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        <li><a href="/docs/" class="active">技术文档</a></li>
        <li><a href="/archives/">文章中心</a></li>
        <li><a href="/extensions/">CMS拓展</a></li>
        <li><a href="/downloads/">下载中心</a></li>
        <li><a href="/about/">关于我们</a></li>
        <li><a href="https://github.com/Tsingbo-Kooboo/KoobooMvc5" target="_blank">获取源码</a></li>
        </ul>
      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
    
  <div class="container">
    <div class="blog-header">
  <h1 class="blog-title">Kooboo CMS</h1>
  
</div>

    <div class="row">
      
        <div class="col-sm-12 blog-main">
          <article id="page-undefined" class="article article-type-page" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 class="article-title" itemprop="name">
      站点配置管理
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/docs/site-setting-manager/index.html" class="article-date"><time datetime="2017-01-06T07:49:22.000Z" itemprop="datePublished">2017-01-06</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li><h2 id="站点关系"><a href="#站点关系" class="headerlink" title="站点关系"></a>站点关系</h2></li>
</ul>
<p>管理站点间的关系，站点可以有子站点，子站点继承父站点的部分配置数据，同时子站点还可以根据需要，本地化由父站点继承而来的数据。通过继承和本地化，可以让子站点在用最小的改动代价，来完成一个与父站点功能类似，但有部分不同的网站。<br>在创建子站点时，可以选择使用与Kooboo CMS中任何已经存在的站点的相同的内容数据库，也可以选择新建一个新的内容数据库。如果选择新建内容数据库时，新的内容数据库会复制父站点使用的内容数据库，但之后他们各种独立，不再有任何关系。</p>
<ul>
<li><h2 id="站点配置（Site-setting）"><a href="#站点配置（Site-setting）" class="headerlink" title="站点配置（Site setting）"></a>站点配置（Site setting）</h2></li>
</ul>
<p><img src="site-setting-basic.jpg" alt="基础设置"></p>
<p>用于修改站点的配置信息，这些信息可以包括:</p>
<h3 id="（1）基础设置"><a href="#（1）基础设置" class="headerlink" title="（1）基础设置"></a>（1）基础设置</h3><ul>
<li><p>显示名称<br>站点名称一旦创建后就不可修改，如果要改变显示名称，通过这个设置来更改。</p>
</li>
<li><p>使用的内容数据库<br>指定要使用的内容数据库。只要保证View和Page中的相关数据查询仍然可以正常工作，开发人员就可以随时改变要修改的内容数据库。</p>
</li>
<li><p>使用的会员数据库<br>指定要使用的会员数据库。Kooboo CMS自带一个基本的会员系统，可以很方便地与站点结合。</p>
</li>
<li><p>站点文化设置<br>设置站点文化，可以根据不同的地区的语言文化设置：日期的显示格式 ，数字的显示模式等与语言文化相关的配置。</p>
</li>
<li><p>时区设置<br>设置站点服务器所在2时区。Kooboo CMS数据库存储的是UTC时间，设置时区会关系到显示的本地时间。</p>
</li>
<li><p>是否显示站点管理首页的页面结构图开关<br>页面结构图可以清晰的表现整个站点内的页面层次关系，但是当页面到达一定数量时，结构图的显示会导致站点运行空间减少和站点性能略为下降，但是你可以选择设置禁用该页面。禁用该页面后，用户登录后会默认重定向页面列表，如果用户没有页面管理权限，则会重定向到内容数据库管理首页。</p>
</li>
<li><p>启用版本控制开关<br>用于控制是否启用站点的版本控制功能。版本控制可以对Layout，View，HtmlBlock，Page进行版本记录和还原操作。</p>
</li>
</ul>
<h3 id="（2）域名设置"><a href="#（2）域名设置" class="headerlink" title="（2）域名设置"></a>（2）域名设置</h3><p><img src="site-setting-domain.jpg" alt="域名设置"></p>
<ul>
<li><p>域名<br>绑定站点使用的域名，在绑定站点的域名不需<em>http://</em>，不需要端口号。如果Kooboo CMS站点部署在虚拟目录下，也不需要指定虚拟目录。一个站点可以绑定多个域名。<br>绑定站点域名，首先要求域名必须加到Kooboo CMS在IIS站点的主机头列表中。</p>
</li>
<li><p>站点虚拟目录<br>有些多语言站点可能会设置类似：www.site.com/cn的站点域名。这种情况的域名设置，需要先把www.site.com绑定到站点域名设置，然后再将cn绑定到站点虚拟目录。</p>
</li>
<li><p>使用的设备<br>Kooboo CMS支持将站点只给指定设备使用，比如做了两个站点，一个绑定给移动端，一个绑定给PC端。换个说法，同一个域名，移动端跟PC端访问可以进入不同站点。</p>
</li>
<li><p>SSL反向代理HTTP Header设置<br>当站点使用HTTPS协议时，反向代理内网走的可能是HTTP协议，此设置用于设置HTTPS协议时的Header标识。</p>
</li>
</ul>
<h3 id="（3）站点资源设置"><a href="#（3）站点资源设置" class="headerlink" title="（3）站点资源设置"></a>（3）站点资源设置</h3><p><img src="site-setting-web-resource.jpg" alt="站点资源设置"></p>
<ul>
<li><p>站点皮肤设置<br>Kooboo CMS支持一个站点多套皮肤，@Html.FrontHtml().RegisterStyles() 加载的是此配置的主题。</p>
</li>
<li><p>站点版本设置<br>此设置与Release模式时生成的压缩后的脚本、样式的路径有关。Release模式时修改了脚本、样式时版本号也会自动更新。</p>
</li>
<li><p>站点运行模式设置<br>有“Debug”与“Release”两种模式，Debug模式渲染的是原始引用脚本样式，通常用作调试用，线上可以使用Release模式，Release模式会对脚本、样式进行压缩打包。</p>
</li>
<li><p>资源域名<br>用于设置cdn域名，如果设置了cdn域名，在生成静态资源路径时会拼成cdn资源路径。</p>
</li>
<li><p>在线编辑开关<br>设置站点是否要启用在线编辑功能。Kooboo CMS很酷的一个功能，支持前台在线编辑内容，做到想改哪里点哪里。</p>
</li>
<li><p>引用JQuery开关<br>加载jquery到前台站点。</p>
</li>
</ul>
<h3 id="（4）SMTP设置"><a href="#（4）SMTP设置" class="headerlink" title="（4）SMTP设置"></a>（4）SMTP设置</h3><p><img src="site-setting-smtp.jpg" alt="SMTP设置"></p>
<ul>
<li>SMTP账号相关设置<br>SMTP账号设置，有需要用到发邮件之类的可以用此配置，比如会员找回密码之类的功能。</li>
</ul>
<h3 id="（5）HTML-META"><a href="#（5）HTML-META" class="headerlink" title="（5）HTML META"></a>（5）HTML META</h3><p><img src="site-setting-html-meta.jpg" alt="HTML Meta设置"></p>
<p>用于配置页面Meta信息，是SEO人员比较关心的一些配置。可以使用 @Html.FrontHtml().Meta() 加载这些信息。</p>
<ul>
<li>HTML标题</li>
<li>Canonical</li>
<li>作者</li>
<li>关键字</li>
<li>描述</li>
<li>Meta块</li>
<li>定义Meta字段</li>
</ul>
<h3 id="（6）安全设置"><a href="#（6）安全设置" class="headerlink" title="（6）安全设置"></a>（6）安全设置</h3><p><img src="site-setting-security.jpg" alt="安全设置"></p>
<ul>
<li>密钥<br>用于站点数据加密/解密的密钥。</li>
</ul>
<h3 id="（7）自定义字段"><a href="#（7）自定义字段" class="headerlink" title="（7）自定义字段"></a>（7）自定义字段</h3><p><img src="site-setting-custom-fields.jpg" alt="自定义字段"></p>
<ul>
<li>开发者自定义字段<br>开发者自己定义的一些信息，比如需要调用第三方API时，可以把API信息配置到这里，使用@Site.Current.CustomFields[“key”]来取数据。</li>
</ul>
<h3 id="（8）站点用户管理"><a href="#（8）站点用户管理" class="headerlink" title="（8）站点用户管理"></a>（8）站点用户管理</h3><p><img src="site-setting-site-users.jpg" alt="站点用户管理"></p>
<p>除了超级管理员之外，只有被添加到站点内的用户才可以维护站点的数据。添加站点用户是选择一个已经在系统中存在的用户，以一种或多种不同的角色添加到站点，让该用户具有维护站点数据的权限。</p>
<h3 id="（9）URL地址重定向"><a href="#（9）URL地址重定向" class="headerlink" title="（9）URL地址重定向"></a>（9）URL地址重定向</h3><p><img src="site-setting-url-redirect.jpg" alt="URL地址重定向"></p>
<p>对于某些情况下，开发人员需要将一个旧的URL请求重定向到一个新的页面地址，此时可能需要做301或302重定向。<br>Url地址重定向配置有两种模式：简单模式和正则表达式模式。</p>
<ul>
<li>简单模式：只是简单的设置一个输入地址和输出地址，配置成功后重定向到新的地址，如：输入/Home，输出/Articles。</li>
<li>正则表达式模式：正则表达式模式匹配允许开发人员将输入地址中的部分值替换为新地址的模式串形成一个新的输出地址，如：输入模式串 product/(\d+)，输出模式串Articles/$1。</li>
</ul>
<h3 id="（10）robots-txt"><a href="#（10）robots-txt" class="headerlink" title="（10）robots.txt"></a>（10）robots.txt</h3><p><img src="site-setting-robots.jpg" alt="robots.txt"></p>
<p>每个站点都可以有自己的Robots.txt，不会相互影响。</p>
<h3 id="（11）-A-B测试"><a href="#（11）-A-B测试" class="headerlink" title="（11） A/B测试"></a>（11） A/B测试</h3><p><img src="site-setting-ab-rules.jpg" alt="A/B规则"></p>
<p>A/B测试用于配置一些规则实现基于某些特定条件展现不同页面。支持规则类型包括</p>
<ul>
<li>浏览器语言</li>
<li>随机访问</li>
<li>用户IP</li>
<li>URL的querystring</li>
<li>浏览器UserAgent</li>
</ul>
<p>以下举个例子用于简要介绍该功能的用法,假设我们有这样一个需求：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">同一个URL，我们希望移动端（手机）用户访问的是A页面，PC端访问的是B页面。</div></pre></td></tr></table></figure>
<p>操作步骤如下:</p>
<ol>
<li><p>新建个规则，起个名字（比如“mobile”），选择规则类型为“Browser useragent”。点击下一步。<br><img src="site-setting-create-rule.jpg" alt="创建规则"></p>
</li>
<li><p>点击加号添加规则项，可以支持多个规则。起个名字（比如“mobile”），正则表达式是用于匹配浏览器UserAgent的，底部有一些常见的规则，可以直接点击使用或者自己编写正则表达式，然后点击“Next”。（本例中点击“Mobiles”项）<br><img src="site-setting-ab-rule-item.jpg" alt="添加规则项"></p>
</li>
<li><p>完成规则项编辑。点击“Finish”返回即可。<br><img src="site-setting-ab-rule-item-save.jpg" alt="保存规则项"></p>
</li>
<li><p>为了便于测试，我们新建两个页面，名字分别叫 A、B<br><img src="create-a-b-page.jpg" alt="新建测试页面"></p>
</li>
<li><p>点击左边菜单列表进入“A/B page settings”并点击“Create”新建页面规则。<br><img src="site-setting-ab-page-settings.jpg" alt="进入A/B页面配置"></p>
</li>
<li><p>配置规则页面<br><img src="page-rule-setting.jpg" alt="配置规则页面"></p>
</li>
<li><p>测试访问。分别在电脑、手机上访问同一个页面（本例是: 192.168.2.109:8090/a ）<br><img src="a-page-in-pc.jpg" alt="电脑上访问，显示的是页面A"><br><img src="a-page-in-mobile.jpg" alt="手机上访问，显示的是页面B"></p>
</li>
</ol>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://www.kooboo.me/docs/site-setting-manager/index.html" data-id="cixlt9j9h0008tcldwefvp35v" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      

    </footer>
  </div>
  
    

  
</article>




        </div>
      
    </div>
  </div>
    
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      copyright &copy; 2017 风情波涌
      <a href="http://www.miibeian.gov.cn/" target="_blank">闽ICP备16035825号</a>
      <br/>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="//cdn.bootcss.com/unslider/2.0.3/js/unslider-min.js"></script>

  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

</body>
</html>
